
## 1ã€å›žé¡¾ä¸€ä¸‹Buffer Poolæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ #

### 1.1 å¢žåˆ æ”¹ç›´æŽ¥æ“ä½œçš„æ˜¯å†…å­˜è¿˜æ˜¯ç£ç›˜ï¼Ÿ ##

çŽ°åœ¨æˆ‘ä»¬å…ˆæ¥å›žé¡¾ä¸€ä¸‹æ•°æ®åº“ä¸­çš„Buffer Poolæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿå…¶å®žä»–æ˜¯ä¸€ä¸ªéžå¸¸å…³é”®çš„ç»„ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬é€šè¿‡ä¹‹å‰çš„è®²è§£éƒ½çŸ¥é“ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯æ•°æ®åº“ä¸­çš„æ•°æ®å®žé™…ä¸Šæœ€ç»ˆéƒ½æ˜¯è¦å­˜æ”¾åœ¨ç£ç›˜æ–‡ä»¶ä¸Šçš„ã€‚

æˆ‘ä»¬åœ¨å¯¹æ•°æ®åº“æ‰§è¡Œå¢žåˆ æ”¹æ“ä½œçš„æ—¶å€™ï¼Œä¸å¯èƒ½ç›´æŽ¥æ›´æ–°ç£ç›˜ä¸Šçš„æ•°æ®çš„ï¼Œå› ä¸ºå¦‚æžœä½ å¯¹ç£ç›˜è¿›è¡Œéšæœºè¯»å†™æ“ä½œï¼Œé‚£é€Ÿåº¦æ˜¯ç›¸å½“çš„æ…¢ï¼Œéšä¾¿ä¸€ä¸ªå¤§ç£ç›˜æ–‡ä»¶çš„éšæœºè¯»å†™æ“ä½œï¼Œå¯èƒ½éƒ½è¦å‡ ç™¾æ¯«ç§’ã€‚å¦‚æžœè¦æ˜¯é‚£ä¹ˆæžçš„è¯ï¼Œå¯èƒ½ä½ çš„æ•°æ®åº“æ¯ç§’ä¹Ÿå°±åªèƒ½å¤„ç†å‡ ç™¾ä¸ªè¯·æ±‚äº†ï¼

ä¹‹å‰æˆ‘ä»¬ä¹Ÿéƒ½è®²è§£è¿‡äº†ï¼Œä½ åœ¨å¯¹æ•°æ®åº“æ‰§è¡Œå¢žåˆ æ”¹æ“ä½œçš„æ—¶å€™ï¼Œå®žé™…ä¸Šä¸»è¦éƒ½æ˜¯é’ˆå¯¹å†…å­˜é‡Œçš„Buffer Poolä¸­çš„æ•°æ®è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯ä½ å®žé™…ä¸Šä¸»è¦æ˜¯å¯¹æ•°æ®åº“çš„å†…å­˜é‡Œçš„æ•°æ®ç»“æž„è¿›è¡Œäº†å¢žåˆ æ”¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚  
![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354391971.jpg)

### 1.2 æ•°æ®åº“å´©æºƒäº†ï¼Œå†…å­˜ä¸­æ•°æ®ä¸¢äº†æ€Žä¹ˆåŠžï¼Ÿ ##

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹‹å‰éƒ½è¯´è¿‡ï¼Œå…¶å®žæ¯ä¸ªäººéƒ½æ‹…å¿ƒä¸€ä¸ªäº‹ï¼Œå°±æ˜¯ä½ åœ¨æ•°æ®åº“çš„å†…å­˜é‡Œæ‰§è¡Œäº†ä¸€å †å¢žåˆ æ”¹çš„æ“ä½œï¼Œå†…å­˜æ•°æ®æ˜¯æ›´æ–°äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å¦‚æžœæ•°æ®åº“çªç„¶å´©æºƒäº†ï¼Œé‚£ä¹ˆå†…å­˜é‡Œæ›´æ–°å¥½çš„æ•°æ®ä¸æ˜¯éƒ½æ²¡äº†å—ï¼Ÿ

æ‰€ä»¥å…¶å®žä¹‹å‰æˆ‘ä»¬å°±ç”¨äº†å¾ˆå¤šç« èŠ‚è®²è¿™ä¸ªé—®é¢˜ï¼ŒMySQLå°±æ€•è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¸€ä¸ªredo logæœºåˆ¶ï¼Œä½ åœ¨å¯¹å†…å­˜é‡Œçš„æ•°æ®è¿›è¡Œå¢žåˆ æ”¹çš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šæŠŠå¢žåˆ æ”¹å¯¹åº”çš„æ—¥å¿—å†™å…¥redo logä¸­ï¼Œå¦‚ä¸‹å›¾ã€‚  
![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354393796.jpg)  
ä¸‡ä¸€ä½ çš„æ•°æ®åº“çªç„¶å´©æºƒäº†ï¼Œæ²¡å…³ç³»ï¼Œåªè¦ä»Žredo logæ—¥å¿—æ–‡ä»¶é‡Œè¯»å–å‡ºæ¥ä½ ä¹‹å‰åšè¿‡å“ªäº›å¢žåˆ æ”¹æ“ä½œï¼Œçž¬é—´å°±å¯ä»¥é‡æ–°æŠŠè¿™äº›å¢žåˆ æ”¹æ“ä½œåœ¨ä½ çš„å†…å­˜é‡Œæ‰§è¡Œä¸€éï¼Œè¿™å°±å¯ä»¥æ¢å¤å‡ºæ¥ä½ ä¹‹å‰åšè¿‡å“ªäº›å¢žåˆ æ”¹æ“ä½œäº†ã€‚

å½“ç„¶å¯¹äºŽæ•°æ®æ›´æ–°çš„è¿‡ç¨‹ï¼Œæ˜¯æœ‰ä¸€å¥—ä¸¥å¯†çš„æ­¥éª¤çš„ï¼Œè¿˜æ¶‰åŠåˆ°**undo logã€binlogã€æäº¤äº‹åŠ¡ã€buffer poolè„æ•°æ®åˆ·å›žç£ç›˜**ç­‰ç­‰ã€‚æˆ‘ä»¬ä¹‹å‰éƒ½è®²è¿‡äº†ï¼Œè¿™é‡Œä¸å†é‡å¤ï¼Œè¿™é‡Œä»…ä»…æ˜¯å›žé¡¾ä¸€ä¸‹æ•°æ®åº“ä¸­çš„Buffer Poolè¿™ä¸ªä¸œè¥¿ã€‚

### 1.3 Buffer Poolçš„ä¸€å¥è¯æ€»ç»“ ##

æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç®€å•å¯¹Buffer Poolè¿™ä¸ªä¸œè¥¿åšä¸€ä¸‹æ€»ç»“ï¼Œä»–å…¶å®žæ˜¯æ•°æ®åº“ä¸­æˆ‘ä»¬ç¬¬ä¸€ä¸ªå¿…é¡»è¦æžæ¸…æ¥šçš„æ ¸å¿ƒç»„ä»¶ï¼Œå› ä¸ºå¢žåˆ æ”¹æ“ä½œé¦–å…ˆå°±æ˜¯é’ˆå¯¹è¿™ä¸ªå†…å­˜ä¸­çš„Buffer Poolé‡Œçš„æ•°æ®æ‰§è¡Œçš„ï¼ŒåŒæ—¶é…åˆäº†åŽç»­çš„redo logã€åˆ·ç£ç›˜ç­‰æœºåˆ¶å’Œæ“ä½œã€‚

æ‰€ä»¥**Buffer Poolå°±æ˜¯æ•°æ®åº“çš„ä¸€ä¸ªå†…å­˜ç»„ä»¶ï¼Œé‡Œé¢ç¼“å­˜äº†ç£ç›˜ä¸Šçš„çœŸå®žæ•°æ®ï¼Œç„¶åŽæˆ‘ä»¬çš„Javaç³»ç»Ÿå¯¹æ•°æ®åº“æ‰§è¡Œçš„å¢žåˆ æ”¹æ“ä½œï¼Œå…¶å®žä¸»è¦å°±æ˜¯å¯¹è¿™ä¸ªå†…å­˜æ•°æ®ç»“æž„ä¸­çš„ç¼“å­˜æ•°æ®æ‰§è¡Œçš„**ã€‚

## 2ã€Buffer Poolè¿™ä¸ªå†…å­˜æ•°æ®ç»“æž„åˆ°åº•é•¿ä¸ªä»€ä¹ˆæ ·å­ï¼Ÿ #

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„å›¾ï¼Œé‡Œé¢å°±ç”»äº†æ•°æ®åº“ä¸­çš„Buffer Poolå†…å­˜ç»„ä»¶ã€‚  
![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354395746.jpg)

### 2.1 å¦‚ä½•é…ç½®MySQLçš„Buffer Poolçš„å¤§å°ï¼Ÿ ##

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„å›¾ï¼Œé‡Œé¢å°±ç”»äº†æ•°æ®åº“ä¸­çš„Buffer Poolå†…å­˜ç»„ä»¶ã€‚  
å› ä¸ºBuffer Poolæœ¬è´¨å…¶å®žå°±æ˜¯æ•°æ®åº“çš„ä¸€ä¸ªå†…å­˜ç»„ä»¶ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä»–å°±æ˜¯ä¸€ç‰‡å†…å­˜æ•°æ®ç»“æž„ï¼Œæ‰€ä»¥è¿™ä¸ªå†…å­˜æ•°æ®ç»“æž„è‚¯å®šæ˜¯æœ‰ä¸€å®šçš„å¤§å°çš„ï¼Œä¸å¯èƒ½æ˜¯æ— é™å¤§çš„ã€‚

è¿™ä¸ªBuffer Poolé»˜è®¤æƒ…å†µä¸‹æ˜¯128MBï¼Œè¿˜æ˜¯æœ‰ä¸€ç‚¹åå°äº†ï¼Œæˆ‘ä»¬å®žé™…ç”Ÿäº§çŽ¯å¢ƒä¸‹å®Œå…¨å¯ä»¥å¯¹Buffer Poolè¿›è¡Œè°ƒæ•´ã€‚æ¯”å¦‚æˆ‘ä»¬çš„æ•°æ®åº“å¦‚æžœæ˜¯16æ ¸32Gçš„æœºå™¨ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥ç»™Buffer Poolåˆ†é…ä¸ª2GBçš„å†…å­˜ï¼Œä½¿ç”¨ä¸‹é¢çš„é…ç½®å°±å¯ä»¥äº†ã€‚

    [server]
    innodb_buffer_pool_size = 2147483648

### 2.2 æ•°æ®é¡µ ##

åœ¨å°†Buffer Poolä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šæ•°æ®é¡µã€‚æƒ³å¿…å¥½å¤šäººä¹Ÿå¬è¯´è¿‡è¿™ä¸ªï¼Œä½†æ˜¯æ•°æ®é¡µæ˜¯ä¸ªä»€ä¹ˆæ ·çš„ç»“æž„å‘¢ï¼Ÿå­˜æ”¾çš„æ˜¯ä»€ä¹ˆæ ·çš„æ•°æ®å‘¢ï¼Ÿåˆ«æ€¥ï¼Œä¸‹é¢ä¼šæ…¢æ…¢é“æ¥ã€‚

æŽ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œå‡è®¾çŽ°åœ¨æˆ‘ä»¬çš„æ•°æ®åº“ä¸­ä¸€å®šæœ‰ä¸€ç‰‡å†…å­˜åŒºåŸŸæ˜¯Buffer Pooläº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ•°æ®æ˜¯å¦‚ä½•æ”¾åœ¨Buffer Poolä¸­çš„ï¼Ÿ

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é‡Œæœ‰ä¸€ä¸ªä¸€ä¸ªçš„è¡¨ï¼Œä¸€ä¸ªè¡¨æœ‰å¾ˆå¤šå­—æ®µï¼Œç„¶åŽä¸€ä¸ªè¡¨é‡Œæœ‰å¾ˆå¤šè¡Œæ•°æ®ï¼Œæ¯è¡Œæ•°æ®éƒ½æœ‰å¥½å¤šçš„å­—æ®µå€¼ã€‚æ‰€ä»¥å¤§å®¶è§‰å¾—æˆ‘ä»¬çš„æ•°æ®æ˜¯ä¸€è¡Œä¸€è¡Œçš„æ”¾åœ¨Buffer Poolé‡Œé¢çš„å—ï¼Ÿ

è¿™å°±æ˜Žæ˜¾ä¸æ˜¯äº†ï¼Œå®žé™…ä¸Š**MySQLå¯¹æ•°æ®æŠ½è±¡å‡ºæ¥äº†ä¸€ä¸ªæ•°æ®é¡µçš„æ¦‚å¿µï¼Œæ˜¯æŠŠå¾ˆå¤šè¡Œæ•°æ®æ”¾åœ¨äº†ä¸€ä¸ªæ•°æ®é¡µé‡Œ**ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„**ç£ç›˜æ–‡ä»¶ä¸­å°±æ˜¯ä¼šæœ‰å¾ˆå¤šçš„æ•°æ®é¡µï¼Œæ¯ä¸€é¡µæ•°æ®é‡Œæ”¾äº†å¾ˆå¤šè¡Œæ•°æ®**ã€‚

æ‰€ä»¥å®žé™…ä¸Šå‡è®¾æˆ‘ä»¬è¦æ›´æ–°ä¸€è¡Œæ•°æ®ï¼Œ**æ­¤æ—¶æ•°æ®åº“ä¼šæ‰¾åˆ°è¿™è¡Œæ•°æ®æ‰€åœ¨çš„æ•°æ®é¡µï¼Œä¸æ˜¯åªåŠ è½½ä¸€è¡Œæ•°æ®ï¼Œè€Œæ˜¯ä»Žç£ç›˜æ–‡ä»¶é‡ŒæŠŠè¿™è¡Œæ•°æ®æ‰€åœ¨çš„æ•°æ®é¡µç›´æŽ¥ç»™åŠ è½½åˆ°Buffer Poolé‡ŒåŽ»**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBuffer Poolä¸­å­˜æ”¾çš„ä¹Ÿæ˜¯ä¸€ä¸ªä¸€ä¸ªçš„æ•°æ®é¡µï¼Œå¦‚ä¸‹å›¾ï¼š

![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354396367.jpg)

### 2.3 ç£ç›˜ä¸Šçš„æ•°æ®é¡µå’ŒBuffer Poolä¸­çš„æ•°æ®é¡µæ˜¯å¦‚ä½•å¯¹åº”èµ·æ¥çš„ï¼Ÿ ##

 *  å®žé™…ä¸Šé»˜è®¤æƒ…å†µä¸‹ï¼Œç£ç›˜ä¸­å­˜æ”¾çš„æ•°æ®é¡µçš„å¤§å°æ˜¯16KBï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€é¡µæ•°æ®åŒ…å«äº†16KBçš„å†…å®¹ã€‚
 *  è€ŒBuffer Poolä¸­å­˜æ”¾çš„ä¸€ä¸ªä¸€ä¸ªçš„æ•°æ®é¡µï¼Œæˆ‘ä»¬é€šå¸¸å«åšç¼“å­˜é¡µï¼Œå› ä¸ºæ¯•ç«ŸBuffer Poolæ˜¯ä¸€ä¸ªç¼“å†²æ± ï¼Œé‡Œé¢çš„æ•°æ®éƒ½æ˜¯ä»Žç£ç›˜ç¼“å­˜åˆ°å†…å­˜åŽ»çš„ã€‚
 *  è€ŒBuffer Poolä¸­é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç¼“å­˜é¡µçš„å¤§å°å’Œç£ç›˜ä¸Šçš„ä¸€ä¸ªæ•°æ®é¡µçš„å¤§å°æ˜¯ä¸€ä¸€å¯¹åº”èµ·æ¥çš„ï¼Œéƒ½æ˜¯16KBã€‚

æ‰€ä»¥æˆ‘ä»¬çœ‹ä¸‹å›¾ï¼Œå›¾ä¸­çš„Buffer Poolæ ‡æ³¨å‡ºæ¥äº†çš„å†…å­˜å¤§å°ï¼Œå‡è®¾æ˜¯128MBå§ï¼Œç„¶åŽæ•°æ®é¡µçš„å¤§å°æ˜¯16KBã€‚

![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354397720.jpg)

### 2.4 ç¼“å­˜é¡µæè¿°ä¿¡æ¯ ##

æŽ¥ç€æˆ‘ä»¬è¦äº†è§£ä¸‹ä¸€ä¸ªæ¦‚å¿µï¼Œ**å¯¹äºŽæ¯ä¸ªç¼“å­˜é¡µï¼Œå®žé™…ä¸Šéƒ½ä¼šæœ‰ä¸€ä¸ªæè¿°ä¿¡æ¯ï¼Œè¿™ä¸ªæè¿°ä¿¡æ¯å¤§ä½“å¯ä»¥è®¤ä¸ºæ˜¯ç”¨æ¥æè¿°è¿™ä¸ªç¼“å­˜é¡µçš„**ã€‚  
æ¯”å¦‚åŒ…å«å¦‚ä¸‹çš„ä¸€äº›ä¸œè¥¿ï¼šè¿™ä¸ªæ•°æ®é¡µæ‰€å±žçš„è¡¨ç©ºé—´ã€æ•°æ®é¡µçš„ç¼–å·ã€è¿™ä¸ªç¼“å­˜é¡µåœ¨Buffer Poolä¸­çš„å†…å­˜åœ°å€ä»¥åŠåˆ«çš„ä¸€äº›ä¸œè¥¿ï¼Œå°±ç›¸å½“äºŽç¼“å­˜é¡µçš„å…ƒæ•°æ®ä¸€æ ·ã€‚

æ¯ä¸ªç¼“å­˜é¡µéƒ½ä¼šå¯¹åº”ä¸€ä¸ªæè¿°ä¿¡æ¯ï¼Œè¿™ä¸ªæè¿°ä¿¡æ¯æœ¬èº«ä¹Ÿæ˜¯ä¸€å—æ•°æ®ï¼Œ**åœ¨Buffer Poolä¸­ï¼Œæ¯ä¸ªç¼“å­˜é¡µçš„æè¿°æ•°æ®æ”¾åœ¨æœ€å‰é¢ï¼Œç„¶åŽå„ä¸ªç¼“å­˜é¡µæ”¾åœ¨åŽé¢**ã€‚

æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬çœ‹ä¸‹é¢çš„å›¾ï¼ŒBuffer Poolå®žé™…çœ‹èµ·æ¥å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ã€‚  
![ç¬‘å°æž«-www.xiaoxiaofeng.com](https://image.xiaoxiaofeng.site/spider/2022/11/2/xxf-1667354398889.jpg)  
è€Œä¸”è¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ä¸€ç‚¹ï¼Œ**Buffer Poolä¸­çš„æè¿°æ•°æ®å¤§æ¦‚ç›¸å½“äºŽç¼“å­˜é¡µå¤§å°çš„5%å·¦å³**ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªæè¿°æ•°æ®å¤§æ¦‚æ˜¯800ä¸ªå­—èŠ‚å·¦å³çš„å¤§å°ï¼Œç„¶åŽå‡è®¾ä½ è®¾ç½®çš„buffer poolå¤§å°æ˜¯128MBï¼Œå®žé™…ä¸ŠBuffer PoolçœŸæ­£çš„æœ€ç»ˆå¤§å°ä¼šè¶…å‡ºä¸€äº›ï¼Œå¯èƒ½æœ‰ä¸ª130å¤šMBçš„æ ·å­ï¼Œ**å› ä¸ºä»–é‡Œé¢è¿˜è¦å­˜æ”¾æ¯ä¸ªç¼“å­˜é¡µçš„æè¿°æ•°æ®**ã€‚

## å…³äºŽç¬‘å°æž«ðŸ’•

> æœ¬ç« åˆ°è¿™é‡Œç»“æŸäº†ï¼Œå–œæ¬¢çš„æœ‹å‹å…³æ³¨ä¸€ä¸‹æˆ‘å‘¦ï¼Œå¤§ä¼™çš„æ”¯æŒï¼Œå°±æ˜¯æˆ‘åšæŒå†™ä¸‹åŽ»çš„åŠ¨åŠ›ã€‚
>
> å¾®ä¿¡å…¬ä¼—å·ï¼šç¬‘å°æž«
>
> ç¬‘å°æž«ä¸ªäººåšå®¢ï¼š[https://www.xiaoxiaofeng.com](https://www.xiaoxiaofeng.com)
>
> CSDNï¼š[https://zhangfz.blog.csdn.net](https://zhangfz.blog.csdn.net)